{"version":3,"sources":["components/stateless_component/Indication.js","components/stateless_component/Item.js","components/stateless_component/InputField.js","components/stateless_component/Record.js","components/stateless_component/Display.js","actions/cube.js","components/container_component/Cube.js"],"names":["Indication","props","react_default","a","createElement","className","Item","size","width","concat","height","action","position","translate3d","rotate3d","transform","id","aspect","color","backgroundColor","style","InputField","submitStatus","Input","type","name","value","inputFieldValue","onChange","handleChange","disabled","submitting","Button","text","onClick","handleSubmit","handleAutoArrangement","handleRestore","Record","records","map","record","index","arr","key","length","Display","up","globalDisplay","slice","it","idx","left","front","right","behind","down","transitionMap","FRONT","F","B","L","R","U","D","BEHIND","LEFT","RIGHT","UP","DOWN","angleMap","","'","2","rotationMap","cubesMap","face","side","viewMap","UX","DX","RY","LY","FY","BY","swap","c1","c2","c3","c4","temp","exchange","cubes","rotated","_ref2","angle","contraExchange","rotateAction","view","rotateDirection","arguments","undefined","transition","direction","rotation","rotatingObj","rotating","produce","draft","_ref","i","forEach","operationFlowGenerator","ops","opFlow","reduce","flow","op","top","v","c","hasOwnProperty","_viewChangeAction","changing","changed","push","_ref3","handleInputSubmit","dispatch","getState","operations","cube","trim","split","every","operationsJudge","reduceRight","nextOp","setTimeout","StyledMagicCube","Styled","div","_templateObject","MagicCube","_this","this","toLowerCase","stateless_component_Item","Object","assign","stateless_component_Record","stateless_component_Display","stateless_component_InputField","handleInputChange","stateless_component_Indication","Component","connect","state","objectSpread","e","preventDefault","target","keys","Array","fill","_","Math","floor","random"],"mappings":"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","file":"static/js/2.0924bc90.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Indication = (props) => {\r\n  return (\r\n    <ul className='indication'>\r\n      <li>\r\n        <span>U: 上层顺时针旋转90度</span>\r\n        <span>U': 上层逆时针旋转90度</span>\r\n        <span>U2: 上层顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>R: 右面顺时针旋转90度</span>\r\n        <span>R': 右面逆时针旋转90度</span>\r\n        <span>R2: 右面顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>F: 前面顺时针旋转90度</span>\r\n        <span>F': 前面逆时针旋转90度</span>\r\n        <span>F2: 前面顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>D: 下层顺时针旋转90度</span>\r\n        <span>D': 下层逆时针旋转90度</span>\r\n        <span>D2: 下层顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>L: 左面顺时针旋转90度</span>\r\n        <span>L': 左面逆时针旋转90度</span>\r\n        <span>L2: 左面顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>B: 后面顺时针旋转90度</span>\r\n        <span>B': 后面逆时针旋转90度</span>\r\n        <span>B2: 后面顺时针旋转180度</span>\r\n      </li>\r\n      <li>\r\n        <span>UX: 参照面切换为黄色</span>\r\n        <span>RY: 参照面切换为绿色</span>\r\n        <span>FY: 参照面切换为红色</span>\r\n      </li>\r\n      <li>\r\n        <span>DX: 参照面切换为白色</span>\r\n        <span>LY: 参照面切换为蓝色</span>\r\n        <span>BY: 参照面切换为橙色</span>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Indication ","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Item = (props) => {\r\n  const size = props.size\r\n  const width = `${props.size}px`\r\n  const height = width\r\n  const action = props.position.action\r\n  const translate3d = props.position.translate3d\r\n  const rotate3d = props.position.rotate3d\r\n  const transform = `\r\n    rotateX(${action[0]}deg) rotateY(${action[1]}deg) rotateZ(${action[2]}deg)\r\n    translate3d(${translate3d[0] * size}px, ${translate3d[1] * size}px, ${translate3d[2] * size}px)\r\n    rotate3d(${rotate3d[0]}, ${rotate3d[1]}, ${rotate3d[2]}, ${rotate3d[3]}deg)`\r\n  const id = props.aspect.id\r\n  const color = props.aspect.color\r\n  const backgroundColor = color\r\n  // const backgroundImage = `url(${bgi})`\r\n  // const backgroundPos = props.aspect.backgroundPos\r\n  // const backgroundPosition = `${backgroundPos.x * size}px ${backgroundPos.y * size}px`\r\n  // const backgroundRepeat = 'no-repeat'\r\n  // const backgroundSize = '900% 600%'  \r\n  return (\r\n    <div \r\n      className={`item ${color}-${id}`}\r\n      style={{\r\n        // backgroundImage, \r\n        // backgroundPosition,\r\n        // backgroundRepeat,\r\n        // backgroundSize,\r\n        backgroundColor,\r\n        width, \r\n        height, \r\n        transform}}>\r\n    </div>\r\n  )\r\n}\r\n\r\nItem.propTypes = {\r\n  size: PropTypes.number.isRequired,\r\n  position: PropTypes.object.isRequired,\r\n  aspect: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Item","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Input from '../stateless_component/Input'\r\nimport Button from '../stateless_component/Button'\r\n\r\nconst InputField = (props) => {\r\n  \r\n  return (\r\n    <div className='input-field'>\r\n      <span>{props.submitStatus}</span>\r\n      <span>\r\n        <Input \r\n          type=\"text\"\r\n          name={'action'} \r\n          value={props.inputFieldValue} \r\n          onChange={ props.handleChange }\r\n          disabled={ props.submitting } />\r\n      </span>\r\n      <span>\r\n        <Button\r\n          text={'提交'} \r\n          onClick={ props.handleSubmit }/>\r\n        <Button\r\n          text={'打乱'} \r\n          onClick={ props.handleAutoArrangement }/>\r\n        <Button\r\n          text={'还原'}\r\n          onClick={ props.handleRestore }/>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nInputField.propTypes = {\r\n  submitting: PropTypes.bool.isRequired,\r\n  submitStatus: PropTypes.string.isRequired,\r\n  inputFieldValue: PropTypes.string.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  handleRestore: PropTypes.func.isRequired\r\n}\r\n\r\nexport default InputField","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Record = (props) => {\r\n  const records = props.records.map((record, index, arr) => (\r\n    <li key={arr.length - index}>{ `${arr.length - index}: ${record}` }</li>\r\n  ))\r\n  return (\r\n    <ul className='record'>\r\n      { records }\r\n    </ul>\r\n  )\r\n}\r\n\r\nRecord.propTypes = {\r\n  records: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Record","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Display = (props) => {\r\n  const up = props.globalDisplay.slice(36, 45)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  const left = props.globalDisplay.slice(18, 27)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  const front = props.globalDisplay.slice(0, 9)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  const right = props.globalDisplay.slice(27, 36)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  const behind = props.globalDisplay.slice(9, 18)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  const down = props.globalDisplay.slice(45, 54)\r\n    .map((it, idx) => (<li key={idx} style={{backgroundColor: it}}></li>))\r\n  return (\r\n    <div className='display'>\r\n      <ul className='display-up'>{up}</ul>\r\n      <ul className='display-left'>{left}</ul>\r\n      <ul className='display-front'>{front}</ul>\r\n      <ul className='display-right'>{right}</ul>\r\n      <ul className='display-behind'>{behind}</ul>\r\n      <ul className='display-down'>{down}</ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nDisplay.propTypes = {\r\n  globalDisplay: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Display","import produce from 'immer'\r\n\r\nconst transitionMap = {\r\n  FRONT: {\r\n    'F': 'F',\r\n    'B': 'B',\r\n    'L': 'L',\r\n    'R': 'R',\r\n    'U': 'U',\r\n    'D': 'D',\r\n  },\r\n  BEHIND: {\r\n    'F': 'B',\r\n    'B': 'F',\r\n    'L': 'R',\r\n    'R': 'L',\r\n    'U': 'U',\r\n    'D': 'D',\r\n  },\r\n  LEFT: {\r\n    'F': 'L',\r\n    'B': 'R',\r\n    'L': 'B',\r\n    'R': 'F',\r\n    'U': 'U',\r\n    'D': 'D',\r\n  },\r\n  RIGHT: {\r\n    'F': 'R',\r\n    'B': 'L',\r\n    'L': 'F',\r\n    'R': 'B',\r\n    'U': 'U',\r\n    'D': 'D',\r\n  },\r\n  UP: {\r\n    'F': 'U',\r\n    'B': 'D',\r\n    'L': 'L',\r\n    'R': 'R',\r\n    'U': 'B',\r\n    'D': 'F',\r\n  },\r\n  DOWN: {\r\n    'F': 'D',\r\n    'B': 'U',\r\n    'L': 'L',\r\n    'R': 'R',\r\n    'U': 'F',\r\n    'D': 'B',\r\n  }\r\n}\r\n\r\nconst angleMap = {\r\n  '': 1,\r\n  \"'\": -1,\r\n  '2': 2,\r\n}\r\n\r\nconst rotationMap = {\r\n  'F': [0, 0, 90],\r\n  'B': [0, 0, -90],\r\n  'L': [-90, 0, 0],\r\n  'R': [90, 0, 0],\r\n  'U': [0, -90, 0],\r\n  'D': [0, 90, 0],\r\n}\r\n\r\nconst cubesMap = {\r\n  'F': {\r\n    face: 0,\r\n    side: [42, 43, 44, 27, 30, 33, 47, 46, 45, 26, 23, 20]\r\n  },\r\n  'B': {\r\n    face: 9,\r\n    side: [36, 37, 38, 24, 21, 18, 53, 52, 51, 29, 32, 35]\r\n  },\r\n  'L': {\r\n    face: 18,\r\n    side: [36, 39, 42, 0, 3, 6, 45, 48, 51, 17, 14, 11]\r\n  },\r\n  'R': {\r\n    face: 27,\r\n    side: [44, 41, 38, 9, 12, 15, 53, 50, 47, 8, 5, 2]\r\n  },\r\n  'U': {\r\n    face: 36,\r\n    side: [0, 1, 2, 18, 19, 20, 9, 10, 11, 27, 28, 29]\r\n  },\r\n  'D': {\r\n    face: 45,\r\n    side: [6, 7, 8, 33, 34, 35, 15, 16, 17, 24, 25, 26 ]\r\n  },\r\n}\r\n\r\nconst viewMap = {\r\n  'UX': 'UP',\r\n  'DX': 'DOWN',\r\n  'RY': 'RIGHT',\r\n  'LY': 'LEFT',\r\n  'FY': 'FRONT',\r\n  'BY': 'BEHIND'\r\n}\r\n\r\nconst operationsJudge = (ops) => {\r\n  if (ops.length === 0) {\r\n    return false\r\n  }\r\n  return ops.every(op => {\r\n    if (op.length === 2) {\r\n      return rotationMap.hasOwnProperty(op[0]) && (angleMap.hasOwnProperty(op[1]) || viewMap.hasOwnProperty(op))\r\n    } else if (op.length === 1) {\r\n      return rotationMap.hasOwnProperty(op)\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nconst swap = (c1, c2, c3, c4) => {\r\n  const temp = c1.aspect\r\n  c1.aspect = c4.aspect\r\n  c4.aspect = c3.aspect\r\n  c3.aspect = c2.aspect\r\n  c2.aspect = temp\r\n}\r\n\r\nconst exchange = (cubes, face, side) => {\r\n  swap(cubes[face], cubes[face + 2], cubes[face + 8], cubes[face + 6])\r\n  swap(cubes[face + 1], cubes[face + 5], cubes[face + 7], cubes[face + 3])\r\n  swap(cubes[side[0]], cubes[side[3]], cubes[side[6]], cubes[side[9]])\r\n  swap(cubes[side[1]], cubes[side[4]], cubes[side[7]], cubes[side[10]])\r\n  swap(cubes[side[2]], cubes[side[5]], cubes[side[8]], cubes[side[11]])\r\n}\r\n\r\nconst contraExchange = (cubes, face, side) => {\r\n  swap(cubes[face], cubes[face + 6], cubes[face + 8], cubes[face + 2])\r\n  swap(cubes[face + 1], cubes[face + 3], cubes[face + 7], cubes[face + 5])\r\n  swap(cubes[side[0]], cubes[side[9]], cubes[side[6]], cubes[side[3]])\r\n  swap(cubes[side[1]], cubes[side[10]], cubes[side[7]], cubes[side[4]])\r\n  swap(cubes[side[2]], cubes[side[11]], cubes[side[8]], cubes[side[5]])\r\n}\r\n\r\nconst rotating = (cubes, {face, side}, rotation, angle) => {\r\n  for (let i = face; i < face + 9; i++) {\r\n    cubes[i].position.action[0] = cubes[i].position.action[0] + rotation[0] * angle\r\n    cubes[i].position.action[1] = cubes[i].position.action[1] + rotation[1] * angle\r\n    cubes[i].position.action[2] = cubes[i].position.action[2] + rotation[2] * angle\r\n  }\r\n  side.forEach(it => {\r\n    cubes[it].position.action[0] = cubes[it].position.action[0] + rotation[0] * angle\r\n    cubes[it].position.action[1] = cubes[it].position.action[1] + rotation[1] * angle\r\n    cubes[it].position.action[2] = cubes[it].position.action[2] + rotation[2] * angle\r\n  })\r\n}\r\n\r\nconst rotated = (cubes, {face, side}, angle) => {\r\n  if (angle === 1) {\r\n    exchange(cubes, face, side)\r\n  } else if (angle === -1) {\r\n    contraExchange(cubes, face, side)\r\n  } else {\r\n    exchange(cubes, face, side)\r\n    exchange(cubes, face, side)\r\n  }\r\n}\r\n\r\nconst rotateAction = (cubes, view, rotateDirection, angle = '') => {\r\n  angle = angleMap[angle]\r\n  const transition = transitionMap[view][rotateDirection]\r\n  const direction = transition[transition.length - 1]\r\n  const rotation = rotationMap[direction]\r\n  const rotatingObj = cubesMap[direction]\r\n  const rotatingCubes = produce(cubes, draft => rotating(draft, rotatingObj, rotation, angle))\r\n  const rotatedCubes = produce(cubes, draft => rotated(draft, rotatingObj, angle))\r\n  return {\r\n    rotating: { type: 'CUBE_ROTATING', cubes: rotatingCubes , view },\r\n    rotated: { type: 'CUBE_ROTATED', cubes: rotatedCubes , view }\r\n  }\r\n}\r\n\r\nconst viewChangeAction = (view, cubes) => ({\r\n  changing: { type: 'VIEW_CHANGING', view , cubes },\r\n  changed: { type: 'VIEW_CHANGED', view , cubes }\r\n})\r\n\r\nconst operationFlowGenerator = (ops, cubes, view) => {\r\n  const opFlow = ops.reduce((flow, op) => {\r\n    const top = flow[flow.length - 1]\r\n    const v = top.view\r\n    const c = top.cubes \r\n    if (viewMap.hasOwnProperty(op)) {\r\n      const {changing, changed} = viewChangeAction(viewMap[op], c)\r\n      flow.push(changing, changed)\r\n    } else {\r\n      const {rotating, rotated} = op.length > 1 ? rotateAction(c, v, op[0], op[1]) : rotateAction(c, v, op)\r\n      flow.push(rotating, rotated)\r\n    }\r\n    return flow\r\n  }, [{ type: 'INPUT_SUBMITTING' ,cubes , view }]) \r\n  opFlow.push({ type: 'INPUT_SUBMITTED' })\r\n  return opFlow\r\n}\r\n\r\nexport const handleInputChange = (value) => ({ type: 'INPUT_CHANGE', value })\r\n\r\nexport const handleInputSubmit = () => (dispatch, getState) => {\r\n  const operations = getState().cube.inputFieldValue.trim().split(' ')\r\n  const submitting = getState().cube.submitting\r\n  if( !operationsJudge(operations) || submitting === true) {\r\n    return dispatch({ type: 'SUBMIT_FAILED' })\r\n  }\r\n  const view = getState().cube.view\r\n  const cubes = getState().cube.cubes\r\n  const operationFlow = operationFlowGenerator(operations, cubes, view)\r\n  const ops = operationFlow.reduceRight((nextOp, op) => function (dispatch) {\r\n    dispatch(op)\r\n    if (nextOp) setTimeout(nextOp, 300, dispatch)\r\n  }, null)\r\n  ops(dispatch)\r\n}\r\n\r\nexport const handleAutoArrangement = () => (dispatch, getState) => {\r\n  const rotation  = Object.keys(rotationMap)\r\n  const angle = Object.keys(angleMap)\r\n  const operations = new Array(10)\r\n    .fill(0)\r\n    .map((_) => rotation[Math.floor(Math.random() * 6)] + angle[Math.floor(Math.random() * 3)])\r\n  const view = getState().cube.view\r\n  const cubes = getState().cube.cubes\r\n  const operationFlow = operationFlowGenerator(operations, cubes, view)\r\n  const ops = operationFlow.reduceRight((nextOp, op) => function (dispatch) {\r\n    dispatch(op)\r\n    if (nextOp) setTimeout(nextOp, 300, dispatch)\r\n  }, null)\r\n  ops(dispatch)\r\n}\r\n\r\nexport const handleRestore = () => ({ type: 'RESTORE' })","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\nimport Styled from 'styled-components'\r\nimport Indication from '../stateless_component/Indication'\r\nimport Item from '../stateless_component/Item'\r\nimport InputField from '../stateless_component/InputField'\r\nimport Record from '../stateless_component/Record'\r\nimport Display from '../stateless_component/Display'\r\nimport { handleInputChange,\r\n         handleInputSubmit,\r\n         handleRestore,\r\n         handleAutoArrangement\r\n        } from '../../actions/cube'\r\n\r\nconst StyledMagicCube = Styled.div`\r\n  padding: 1rem;\r\n  background-color: #fff5;\r\n\r\n  .magic-cube-container {\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: 35% 45% 20%;\r\n    grid-template-rows: 10rem 20rem;\r\n    grid-template-areas: \r\n      \"b c d\"\r\n      \"a a a\";\r\n  }\r\n\r\n  .magic-cube-wrapper {\r\n    perspective: 1500px;\r\n    margin: 0 auto;\r\n    font-size: 1rem; \r\n    width: 100%;\r\n    grid-area: a;\r\n  }\r\n\r\n  .items {\r\n    transform-style: preserve-3d;\r\n    transition: transform .2s ease-in;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 40%;\r\n    transform-origin: 50px 50px 0px;\r\n  }\r\n\r\n  .items>* {\r\n    position: absolute;\r\n    border: 1px solid rgba(200, 200, 200, 0.8);\r\n    box-sizing: content-box;\r\n  }\r\n\r\n  .rotating>* {\r\n    transition: transform .2s ease-in-out;\r\n  }\r\n\r\n  .items.front {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(0deg)\r\n  }\r\n\r\n  .items.behind {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(180deg)\r\n  }\r\n\r\n  .items.left {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(90deg)\r\n  }\r\n\r\n  .items.right {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(-90deg)\r\n  }\r\n\r\n  .items.up {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateX(-90deg)\r\n  }\r\n\r\n  .items.down {\r\n    transform: rotate3d(1, 1, 0, -30deg)rotateX(90deg)\r\n  }\r\n\r\n  .indication {\r\n    padding: 10px 5px;\r\n  }\r\n\r\n  .indication>li {\r\n    display: inline-flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    width: 100%;\r\n    \r\n  }\r\n\r\n  .indication>li>span {\r\n    display: inline-block;\r\n    width: calc(100% / 3);\r\n    flex-grow: 1;\r\n    text-align: left;\r\n    text-indent: 2rem;\r\n    color: royalblue;\r\n    user-select: none;\r\n  }\r\n\r\n  .record {\r\n    grid-area: b;\r\n    border: 1px solid #ccc;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .input-field {\r\n    grid-area: c;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 80%;\r\n    margin: 10px auto;\r\n  }\r\n\r\n  .input-field>span:nth-of-type(1) {\r\n    color: royalblue;\r\n  }\r\n\r\n  .input-field>*{\r\n    margin: .5rem;\r\n  }\r\n  \r\n  .input-field>span:nth-of-type(3) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .display {\r\n    grid-area: d;\r\n    background-color: #ccc;\r\n    border-radius: .25rem;\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    grid-column-gap: 2px;\r\n    grid-row-gap: 2px;\r\n    grid-template-areas: \r\n      \"a u c c\"\r\n      \"l f r b\"\r\n      \"e d g g\";\r\n  }\r\n\r\n  .display ul {\r\n    width: 100%;\r\n    border: none;\r\n    margin-top: 10px; \r\n  }\r\n\r\n  .display ul.display-up {\r\n    grid-area: u;\r\n  }\r\n\r\n  .display ul.display-left {\r\n    grid-area: l;\r\n  }\r\n\r\n  .display ul.display-front {\r\n    grid-area: f;\r\n  }\r\n\r\n  .display ul.display-behind {\r\n    grid-area: b;\r\n  }\r\n\r\n  .display ul.display-right {\r\n    grid-area: r;\r\n  }\r\n\r\n  .display ul.display-down {\r\n    grid-area: d;\r\n  }\r\n\r\n  .display li {\r\n    float: left;\r\n    margin: 2px;\r\n    width: calc(calc(100% - 12px ) / 3);\r\n    padding-bottom: calc(calc(100% - 12px) / 3);\r\n    border: none;\r\n  }\r\n`\r\n\r\nclass MagicCube extends Component {\r\n  static propTypes = {\r\n    size: PropTypes.number.isRequired,\r\n    cubes: PropTypes.array.isRequired,\r\n    globalDisplay: PropTypes.array.isRequired,\r\n    view: PropTypes.string.isRequired,\r\n    colors: PropTypes.object.isRequired,\r\n    rotating: PropTypes.bool.isRequired,\r\n    records: PropTypes.array.isRequired,\r\n    submitting: PropTypes.bool.isRequired,\r\n    submitStatus: PropTypes.string.isRequired,\r\n    handleInputChange: PropTypes.func.isRequired,\r\n    inputFieldValue: PropTypes.string.isRequired,\r\n    handleInputSubmit: PropTypes.func.isRequired,\r\n    handleAutoArrangement: PropTypes.func.isRequired\r\n  }\r\n\r\n  render () {\r\n    const rotating = this.props.rotating ? 'rotating' : ''\r\n    return (\r\n      <StyledMagicCube>\r\n        <div className='magic-cube-container'>\r\n          <div \r\n            className=\"magic-cube-wrapper\">\r\n            <div\r\n              className={`items ${this.props.view.toLowerCase()} ${rotating}`}>\r\n              {this.props.cubes.map((cube, idx) => (\r\n                  <Item \r\n                    key={idx}\r\n                    size={this.props.size} \r\n                    {...cube}/>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n          <Record records={this.props.records}/>\r\n          <Display globalDisplay={this.props.globalDisplay}/>\r\n          <InputField\r\n            submitting={this.props.submitting}\r\n            submitStatus={this.props.submitStatus}\r\n            inputFieldValue={this.props.inputFieldValue}\r\n            handleChange={this.props.handleInputChange}\r\n            handleSubmit={this.props.handleInputSubmit}\r\n            handleRestore={this.props.handleRestore}\r\n            handleAutoArrangement={this.props.handleAutoArrangement}/>\r\n        </div>\r\n        <Indication/>\r\n      </StyledMagicCube>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({...state.cube})\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  handleInputChange: (e) => {\r\n    e.preventDefault()\r\n    dispatch(handleInputChange(e.target.value)\r\n  )},\r\n  handleInputSubmit:  () => dispatch(handleInputSubmit()),\r\n  handleAutoArrangement: () => dispatch(handleAutoArrangement()),\r\n  handleRestore: () => dispatch(handleRestore())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MagicCube)"],"sourceRoot":""}