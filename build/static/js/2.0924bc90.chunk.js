(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{314:function(e,n,t){"use strict";t.r(n);var a=t(10),r=t(11),l=t(12),i=t(15),c=t(13),o=t(14),s=t(3),u=t(0),p=t.n(u),d=t(16),m=t(2),g=function(e){return p.a.createElement("ul",{className:"indication"},p.a.createElement("li",null,p.a.createElement("span",null,"U: \u4e0a\u5c42\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"U': \u4e0a\u5c42\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"U2: \u4e0a\u5c42\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"R: \u53f3\u9762\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"R': \u53f3\u9762\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"R2: \u53f3\u9762\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"F: \u524d\u9762\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"F': \u524d\u9762\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"F2: \u524d\u9762\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"D: \u4e0b\u5c42\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"D': \u4e0b\u5c42\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"D2: \u4e0b\u5c42\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"L: \u5de6\u9762\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"L': \u5de6\u9762\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"L2: \u5de6\u9762\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"B: \u540e\u9762\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"B': \u540e\u9762\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6"),p.a.createElement("span",null,"B2: \u540e\u9762\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6")),p.a.createElement("li",null,p.a.createElement("span",null,"UX: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u9ec4\u8272"),p.a.createElement("span",null,"RY: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u7eff\u8272"),p.a.createElement("span",null,"FY: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u7ea2\u8272")),p.a.createElement("li",null,p.a.createElement("span",null,"DX: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u767d\u8272"),p.a.createElement("span",null,"LY: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u84dd\u8272"),p.a.createElement("span",null,"BY: \u53c2\u7167\u9762\u5207\u6362\u4e3a\u6a59\u8272")))},f=function(e){var n=e.size,t="".concat(e.size,"px"),a=t,r=e.position.action,l=e.position.translate3d,i=e.position.rotate3d,c="\n    rotateX(".concat(r[0],"deg) rotateY(").concat(r[1],"deg) rotateZ(").concat(r[2],"deg)\n    translate3d(").concat(l[0]*n,"px, ").concat(l[1]*n,"px, ").concat(l[2]*n,"px)\n    rotate3d(").concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(i[3],"deg)"),o=e.aspect.id,s=e.aspect.color,u=s;return p.a.createElement("div",{className:"item ".concat(s,"-").concat(o),style:{backgroundColor:u,width:t,height:a,transform:c}})},b=t(54),h=t(82),E=function(e){return p.a.createElement("div",{className:"input-field"},p.a.createElement("span",null,e.submitStatus),p.a.createElement("span",null,p.a.createElement(b.a,{type:"text",name:"action",value:e.inputFieldValue,onChange:e.handleChange,disabled:e.submitting})),p.a.createElement("span",null,p.a.createElement(h.a,{text:"\u63d0\u4ea4",onClick:e.handleSubmit}),p.a.createElement(h.a,{text:"\u6253\u4e71",onClick:e.handleAutoArrangement}),p.a.createElement(h.a,{text:"\u8fd8\u539f",onClick:e.handleRestore})))},y=function(e){var n=e.records.map(function(e,n,t){return p.a.createElement("li",{key:t.length-n},"".concat(t.length-n,": ").concat(e))});return p.a.createElement("ul",{className:"record"},n)},v=function(e){var n=e.globalDisplay.slice(36,45).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})}),t=e.globalDisplay.slice(18,27).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})}),a=e.globalDisplay.slice(0,9).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})}),r=e.globalDisplay.slice(27,36).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})}),l=e.globalDisplay.slice(9,18).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})}),i=e.globalDisplay.slice(45,54).map(function(e,n){return p.a.createElement("li",{key:n,style:{backgroundColor:e}})});return p.a.createElement("div",{className:"display"},p.a.createElement("ul",{className:"display-up"},n),p.a.createElement("ul",{className:"display-left"},t),p.a.createElement("ul",{className:"display-front"},a),p.a.createElement("ul",{className:"display-right"},r),p.a.createElement("ul",{className:"display-behind"},l),p.a.createElement("ul",{className:"display-down"},i))},w=t(4),D={FRONT:{F:"F",B:"B",L:"L",R:"R",U:"U",D:"D"},BEHIND:{F:"B",B:"F",L:"R",R:"L",U:"U",D:"D"},LEFT:{F:"L",B:"R",L:"B",R:"F",U:"U",D:"D"},RIGHT:{F:"R",B:"L",L:"F",R:"B",U:"U",D:"D"},UP:{F:"U",B:"D",L:"L",R:"R",U:"B",D:"F"},DOWN:{F:"D",B:"U",L:"L",R:"R",U:"F",D:"B"}},x={"":1,"'":-1,2:2},R={F:[0,0,90],B:[0,0,-90],L:[-90,0,0],R:[90,0,0],U:[0,-90,0],D:[0,90,0]},N={F:{face:0,side:[42,43,44,27,30,33,47,46,45,26,23,20]},B:{face:9,side:[36,37,38,24,21,18,53,52,51,29,32,35]},L:{face:18,side:[36,39,42,0,3,6,45,48,51,17,14,11]},R:{face:27,side:[44,41,38,9,12,15,53,50,47,8,5,2]},U:{face:36,side:[0,1,2,18,19,20,9,10,11,27,28,29]},D:{face:45,side:[6,7,8,33,34,35,15,16,17,24,25,26]}},U={UX:"UP",DX:"DOWN",RY:"RIGHT",LY:"LEFT",FY:"FRONT",BY:"BEHIND"},F=function(e,n,t,a){var r=e.aspect;e.aspect=a.aspect,a.aspect=t.aspect,t.aspect=n.aspect,n.aspect=r},k=function(e,n,t){F(e[n],e[n+2],e[n+8],e[n+6]),F(e[n+1],e[n+5],e[n+7],e[n+3]),F(e[t[0]],e[t[3]],e[t[6]],e[t[9]]),F(e[t[1]],e[t[4]],e[t[7]],e[t[10]]),F(e[t[2]],e[t[5]],e[t[8]],e[t[11]])},B=function(e,n,t){var a=n.face,r=n.side;1===t?k(e,a,r):-1===t?function(e,n,t){F(e[n],e[n+6],e[n+8],e[n+2]),F(e[n+1],e[n+3],e[n+7],e[n+5]),F(e[t[0]],e[t[9]],e[t[6]],e[t[3]]),F(e[t[1]],e[t[10]],e[t[7]],e[t[4]]),F(e[t[2]],e[t[11]],e[t[8]],e[t[5]])}(e,a,r):(k(e,a,r),k(e,a,r))},O=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";a=x[a];var r=D[n][t],l=r[r.length-1],i=R[l],c=N[l];return{rotating:{type:"CUBE_ROTATING",cubes:Object(w.a)(e,function(e){return function(e,n,t,a){for(var r=n.face,l=n.side,i=r;i<r+9;i++)e[i].position.action[0]=e[i].position.action[0]+t[0]*a,e[i].position.action[1]=e[i].position.action[1]+t[1]*a,e[i].position.action[2]=e[i].position.action[2]+t[2]*a;l.forEach(function(n){e[n].position.action[0]=e[n].position.action[0]+t[0]*a,e[n].position.action[1]=e[n].position.action[1]+t[1]*a,e[n].position.action[2]=e[n].position.action[2]+t[2]*a})}(e,c,i,a)}),view:n},rotated:{type:"CUBE_ROTATED",cubes:Object(w.a)(e,function(e){return B(e,c,a)}),view:n}}},L=function(e,n,t){var a=e.reduce(function(e,n){var t,a,r=e[e.length-1],l=r.view,i=r.cubes;if(U.hasOwnProperty(n)){var c={changing:{type:"VIEW_CHANGING",view:t=U[n],cubes:a=i},changed:{type:"VIEW_CHANGED",view:t,cubes:a}},o=c.changing,s=c.changed;e.push(o,s)}else{var u=n.length>1?O(i,l,n[0],n[1]):O(i,l,n),p=u.rotating,d=u.rotated;e.push(p,d)}return e},[{type:"INPUT_SUBMITTING",cubes:n,view:t}]);return a.push({type:"INPUT_SUBMITTED"}),a},C=function(){return function(e,n){var t=n().cube.inputFieldValue.trim().split(" "),a=n().cube.submitting;if(!function(e){return 0!==e.length&&e.every(function(e){return 2===e.length?R.hasOwnProperty(e[0])&&(x.hasOwnProperty(e[1])||U.hasOwnProperty(e)):1===e.length&&R.hasOwnProperty(e)})}(t)||!0===a)return e({type:"SUBMIT_FAILED"});var r=n().cube.view,l=n().cube.cubes;L(t,l,r).reduceRight(function(e,n){return function(t){t(n),e&&setTimeout(e,300,t)}},null)(e)}};function T(){var e=Object(s.a)(['\n  padding: 1rem;\n  background-color: #fff5;\n\n  .magic-cube-container {\n    width: 100%;\n    display: grid;\n    grid-template-columns: 35% 45% 20%;\n    grid-template-rows: 10rem 20rem;\n    grid-template-areas: \n      "b c d"\n      "a a a";\n  }\n\n  .magic-cube-wrapper {\n    perspective: 1500px;\n    margin: 0 auto;\n    font-size: 1rem; \n    width: 100%;\n    grid-area: a;\n  }\n\n  .items {\n    transform-style: preserve-3d;\n    transition: transform .2s ease-in;\n    position: absolute;\n    left: 50%;\n    top: 40%;\n    transform-origin: 50px 50px 0px;\n  }\n\n  .items>* {\n    position: absolute;\n    border: 1px solid rgba(200, 200, 200, 0.8);\n    box-sizing: content-box;\n  }\n\n  .rotating>* {\n    transition: transform .2s ease-in-out;\n  }\n\n  .items.front {\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(0deg)\n  }\n\n  .items.behind {\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(180deg)\n  }\n\n  .items.left {\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(90deg)\n  }\n\n  .items.right {\n    transform: rotate3d(1, 1, 0, -30deg)rotateY(-90deg)\n  }\n\n  .items.up {\n    transform: rotate3d(1, 1, 0, -30deg)rotateX(-90deg)\n  }\n\n  .items.down {\n    transform: rotate3d(1, 1, 0, -30deg)rotateX(90deg)\n  }\n\n  .indication {\n    padding: 10px 5px;\n  }\n\n  .indication>li {\n    display: inline-flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    width: 100%;\n    \n  }\n\n  .indication>li>span {\n    display: inline-block;\n    width: calc(100% / 3);\n    flex-grow: 1;\n    text-align: left;\n    text-indent: 2rem;\n    color: royalblue;\n    user-select: none;\n  }\n\n  .record {\n    grid-area: b;\n    border: 1px solid #ccc;\n    overflow-y: scroll;\n  }\n\n  .input-field {\n    grid-area: c;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    justify-content: center;\n    width: 80%;\n    margin: 10px auto;\n  }\n\n  .input-field>span:nth-of-type(1) {\n    color: royalblue;\n  }\n\n  .input-field>*{\n    margin: .5rem;\n  }\n  \n  .input-field>span:nth-of-type(3) {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .display {\n    grid-area: d;\n    background-color: #ccc;\n    border-radius: .25rem;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-column-gap: 2px;\n    grid-row-gap: 2px;\n    grid-template-areas: \n      "a u c c"\n      "l f r b"\n      "e d g g";\n  }\n\n  .display ul {\n    width: 100%;\n    border: none;\n    margin-top: 10px; \n  }\n\n  .display ul.display-up {\n    grid-area: u;\n  }\n\n  .display ul.display-left {\n    grid-area: l;\n  }\n\n  .display ul.display-front {\n    grid-area: f;\n  }\n\n  .display ul.display-behind {\n    grid-area: b;\n  }\n\n  .display ul.display-right {\n    grid-area: r;\n  }\n\n  .display ul.display-down {\n    grid-area: d;\n  }\n\n  .display li {\n    float: left;\n    margin: 2px;\n    width: calc(calc(100% - 12px ) / 3);\n    padding-bottom: calc(calc(100% - 12px) / 3);\n    border: none;\n  }\n']);return T=function(){return e},e}var I=m.b.div(T()),j=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(o.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.props.rotating?"rotating":"";return p.a.createElement(I,null,p.a.createElement("div",{className:"magic-cube-container"},p.a.createElement("div",{className:"magic-cube-wrapper"},p.a.createElement("div",{className:"items ".concat(this.props.view.toLowerCase()," ").concat(n)},this.props.cubes.map(function(n,t){return p.a.createElement(f,Object.assign({key:t,size:e.props.size},n))}))),p.a.createElement(y,{records:this.props.records}),p.a.createElement(v,{globalDisplay:this.props.globalDisplay}),p.a.createElement(E,{submitting:this.props.submitting,submitStatus:this.props.submitStatus,inputFieldValue:this.props.inputFieldValue,handleChange:this.props.handleInputChange,handleSubmit:this.props.handleInputSubmit,handleRestore:this.props.handleRestore,handleAutoArrangement:this.props.handleAutoArrangement})),p.a.createElement(g,null))}}]),n}(u.Component);n.default=Object(d.c)(function(e){return Object(a.a)({},e.cube)},function(e){return{handleInputChange:function(n){n.preventDefault(),e({type:"INPUT_CHANGE",value:n.target.value})},handleInputSubmit:function(){return e(C())},handleAutoArrangement:function(){return e(function(e,n){var t=Object.keys(R),a=Object.keys(x),r=new Array(10).fill(0).map(function(e){return t[Math.floor(6*Math.random())]+a[Math.floor(3*Math.random())]}),l=n().cube.view,i=n().cube.cubes;L(r,i,l).reduceRight(function(e,n){return function(t){t(n),e&&setTimeout(e,300,t)}},null)(e)})},handleRestore:function(){return e({type:"RESTORE"})}}})(j)}}]);
//# sourceMappingURL=2.0924bc90.chunk.js.map